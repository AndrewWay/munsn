<!DOCTYPE html>
<html>
<head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<script src="http://twitter.github.com/hogan.js/builds/3.0.1/hogan-3.0.1.js"></script>
<script src="/js/jqueryTest.js"></script>
<script>
	$(document).ready(

		function(){
			jQuery.each( [ "put", "delete" ], function( i, method ) {
				jQuery[ method ] = function( url, data, callback, type ) {
					if ( jQuery.isFunction( data ) ) {
						type = type || callback;
						callback = data;
						data = undefined;
					}

					return jQuery.ajax({
						url: url,
						type: method,
						dataType: type,
						data: data,
						success: callback
					});
				};
			});
			$("#get").click(
				function(){
					$.get("/api/user/info/jh2587",function(data){
							$("#div1").text(JSON.stringify(data));
					});
					}
			);
			$("#post").click(
				function(){
					$.post("/api/user/register",
						{
							user: "Test",
							pass: "Test",
							email: "jh2587@mun.ca"
						},
						function(data){
							console.log(JSON.stringify(data));
							window.location = data.redirect;
						}
					);
				}
			);
			$("#calendarPost").click(
				function(){
					$.post("/test/calendar/jh2587",function(result){
							console.log(JSON.stringify(result));
						}
					);
				}
			);
			$("#calendarGet").click(
				function() {
					$.get("/test/calendar/jh2587", function(result){
							//$.ajax({
							//	type:"GET",
							//	url: 'https://calendar.google.com/calendar/embed?showPrint=0&amp;mode=WEEK&amp;height=600&amp;wkst=1&amp;bgcolor=%23FFFFFF&amp;src='+result.data.calendarid+'&amp;color=%230F4B38&amp;ctz=America%2FSt_Johns',
							//	crossDomain: true,
							//	async: true,
							//	success: function(data,status,xhr){
							//		$("#cal").text('<iframe style="border-width:0" width="800" height="600" frameborder="0" scrolling="no">'+data.toString()+'</iframe>');
							//		console.log(data);
							//	}
							//});
							$("#cal").html('<iframe src="https://calendar.google.com/calendar/embed?showPrint=0&amp;mode=WEEK&amp;height=600&amp;wkst=1&amp;bgcolor=%23FFFFFF&amp;src='+result.data.calendarid+'&amp;color=%230F4B38&amp;ctz=America%2FSt_Johns" style="border-width:0" width="800" height="600" frameborder="0" scrolling="no"></iframe>');
						}
					);
				}
			);
			$("#calendarDelete").click(
				function() {
					$.delete("/test/calendar/jh2587", function(result){
						$("#cal").html('');
					})
				}
			);
		}
	);
</script>
<link  rel="stylesheet" href="/stylesheets/jqueryTest.css"/>
</head>
<body>


<button id="get">GET STUFF</button>
<button id="post">POST STUFF</button>
<button id="calendarPost">Post Calendar</button>
<button id="calendarGet">Get Calendar</button>
<button id="calendarDelete">Delete Calendar</button>

<br>
<br><div id="div1"><h2>GET DATA WILL APPEAR HERE</h2></div>
<br><div id="div2"><h2>POST DATA HERE</h2></div>
<div id="data">Test</div>
<div id="cal"></div>
</body>
</html>
